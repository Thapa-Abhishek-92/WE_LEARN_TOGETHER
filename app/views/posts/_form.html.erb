<%= form_with model: post, local: true, data: { turbo: false } do |f| %>
  <% if post.errors.any? %>
    <div class="mb-6 rounded-xl border border-rose-200 bg-rose-50 p-4 text-rose-900">
      <p class="mb-2 font-medium">入力エラーがあります：</p>
      <ul class="list-inside list-disc text-sm">
        <% post.errors.full_messages.each do |m| %>
          <li><%= m %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <%= render "shared/form_field", f: f, name: :title,     label: "タイトル" %>
  <%= render "shared/form_field", f: f, name: :situation, label: "学習した場面" %>
  <%= render "shared/form_field", f: f, name: :content,   label: "内容・詳細", type: :textarea %>

  <div class="mt-6 flex gap-3">
    <%= f.submit (post.persisted? ? "更新する" : "投稿する"), class: "btn-primary" %>
    <%= link_to "一覧に戻る", posts_path, class: "btn-secondary" %>
  </div>
<% end %>
